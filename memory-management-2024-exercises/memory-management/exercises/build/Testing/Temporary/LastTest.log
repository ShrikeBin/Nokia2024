Start testing: Nov 12 14:43 CET
----------------------------------------------------------
5/6 Testing: task5-leak-fds
5/6 Test: task5-leak-fds
Command: "/usr/bin/valgrind" "-q" "--tool=none" "--track-fds=yes" "./example_leak_fds"
Directory: /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build
"task5-leak-fds" start time: Nov 12 14:43 CET
Output:
----------------------------------------------------------
==48275== FILE DESCRIPTORS: 5 open (3 std) at exit.
==48275== Open file descriptor 4: log.txt
==48275==    at 0x4C1D175: open (open64.c:41)
==48275==    by 0x4B93AFE: _IO_file_open (fileops.c:188)
==48275==    by 0x4B93E41: _IO_file_fopen@@GLIBC_2.2.5 (fileops.c:281)
==48275==    by 0x4B87ED1: fopen@@GLIBC_2.2.5 (iofopen.c:75)
==48275==    by 0x10BC2C: Logger::Logger(std::filesystem::__cxx11::path) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10E930: void std::_Construct<Logger, char const (&) [8]>(Logger*, char const (&) [8]) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10E715: std::_Sp_counted_ptr_inplace<Logger, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<char const (&) [8]>(std::allocator<void>, char const (&) [8]) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10E391: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<Logger, std::allocator<void>, char const (&) [8]>(Logger*&, std::_Sp_alloc_shared_tag<std::allocator<void> >, char const (&) [8]) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10E1F3: std::__shared_ptr<Logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<void>, char const (&) [8]>(std::_Sp_alloc_shared_tag<std::allocator<void> >, char const (&) [8]) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10DC20: std::shared_ptr<Logger>::shared_ptr<std::allocator<void>, char const (&) [8]>(std::_Sp_alloc_shared_tag<std::allocator<void> >, char const (&) [8]) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10CC3F: std::shared_ptr<Logger> std::make_shared<Logger, char const (&) [8]>(char const (&) [8]) (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275==    by 0x10B3FD: create_logger() (in /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/example_leak_fds)
==48275== 
==48275== Open file descriptor 3: /home/h20/Documents/VSC/Paro/memory-management-2024-exercises/memory-management/exercises/build/Testing/Temporary/LastTest.log.tmp
==48275==    <inherited from parent>
==48275== 
==48275== 
<end of output>
Test time =   0.26 sec
----------------------------------------------------------
Test Fail Reason:
Error regular expression found in output. Regex=[Open file descriptor [0-9]+: log.txt]
"task5-leak-fds" end time: Nov 12 14:43 CET
"task5-leak-fds" time elapsed: 00:00:00
----------------------------------------------------------

End testing: Nov 12 14:43 CET
